# Events for Poland, mainly around the November Uprising (Powstanie Listopadowe)
#
# 1118001: The Fate of Poland - choose govt
# 11180021: Revolution in Poland! - for PRU
# 11180022: Revolution in Poland! - for AUS
# 1118003: Dancing with the Bear
# 1118004: "The Regency Must End"
# 1118005: Know Your Master - 1118003 negotiation option "Status Quo Ante Bellum"
# 1118006: Know Your Master - 1118003 negotiation option "We will settle for greater autonomy"
#     1118007: Russia Refuses!
#     1118008: Autonomy Restored
#     1118009: Independence, under Russian Supervision
# 1118010: Returning Exiles
# 1118011: Wedding to the Sea
# 1118012: The Grand Theatre of Warsaw
# 1118013: Napoleon's Example - alliance with france
#
#
# MONARCHS - in case i feel like writing events for their ascensions/deaths later
#
# Czartoryski succession:
# -Prince Adam Jerzy Czartoryski crowned Adam I (d. 1861)
#   -son Witold (d. 1865)
#     -brother Wladyslaw (d. 1893)
#       (-son August (d. 1893) -- very frail, constantly sick)
#       -son Adam Ludwik (d. 1937)
#         -son Augustyn Jozef (d. 1946) -- also had bad health, lived in exile in spain
#           -son Adam Karol (still alive in 2025)
#
# Radziwill succession:
# -Prince Michal Radziwill crowned King Michal I (d. 1850) -- genius general, defended gdansk
#   -son Karol Andrzej (d. 1886) -- ???
#     -son Michal Piotr (d. 1903) -- set up an orphanage, wrote plays, supported cultural stuff
#       -brother Janusz Franciszek (d. 1967) -- senator, businessman and landholder. Foreign policy expert
#		  -son Edmund


# The Fate of Poland - choose govt
country_event = {
	id = 1118001
	title = "The Fate of Poland"
	desc = "EVTDESC1118001"
	picture = "november_uprising_event"
	fire_only_once = yes

	trigger = {
		tag = POL
		war_with = RUS
		war_score = 4 # Winning a little v Russia takes about a year
	}

	# In testing, I could not get MTTH to actually work properly. Set to 1 day so it fires in time.
	mean_time_to_happen = { days = 1 }

	option = {
		name = "Fight! For our freedom and yours!"
		
		government = democracy
		set_country_flag = pol_revolution # means PRU and AUS can intervene
		war_exhaustion = -25 # regrouping effect - poland will fight harder but still lose
		prestige = 5 #25
		add_country_modifier = { # Revolution is messy
			name = national_instability
			duration = 365
		}
		
		# PRU and AUS get option to intervene - POL removed from RUS sphere to allow war
		RUS = { remove_from_sphere = POL }
		PRU = { country_event = 11180021 }
		AUS = { country_event = 11180022 }
		
		# AI will usually do the suicidal republic path, if they even make it this far
		ai_chance = { factor = 0.75 }
	}
	option = {
		name = "We'll see. For now, we will form a regency council."

		set_country_flag = pol_regency
		government = prussian_constitutionalism # change govt back to monarchy, just not absolute monarchy
		plurality = 10 # good temporary unity decision
	}
	option = {
		name = "Prince Czartoryski will be crowned King Adam I."
		
		set_country_flag = pol_czartoryski
		government = prussian_constitutionalism # change govt back to monarchy, just not absolute monarchy
		add_country_modifier = { # Adam Czartoryski (d. 1861)
			name = great_statesman
			duration = 10000 # about 28 years - about 1860
		}
		plurality = -10 # the revolution is blunted by the feeling of return to monarchy
		
		# If I decide to override GFM event_modifiers file...
		# modifier name = "King Adam I"
		# duration = 28 years, his historical lifespan
		# effect is same as "great statesman" but you get to hang on to it
	}
}


# Revolution in Poland! - for PRU
country_event = {
	id = 11180021
	title = "Revolution in Poland!"
	desc = "EVTDESC1118002"
	picture = "november_uprising_event"
	is_triggered_only = yes # triggered by other Nov Uprising events

	option = {
		name = "We must stop them!"
		
		# alliance with Russia and start war
		create_alliance = RUS
		war = {
			target = POL
			attacker_goal = { casus_belli = acquire_any_state state_province_id = 706 } # Mazowsze area
			defender_goal = { casus_belli = status_quo }
		}
		
		ai_chance = { factor = 1 }
	}
	option = {
		name = "There are more important things right now."
	}
}

# Revolution in Poland! - for AUS
country_event = {
	id = 11180022
	title = "Revolution in Poland!"
	desc = "EVTDESC1118002"
	picture = "november_uprising_event"
	is_triggered_only = yes # triggered by other Nov Uprising events

	option = {
		name = "We must stop them!"
		
		# alliance with Russia and start war
		create_alliance = RUS
		war = {
			target = POL
			attacker_goal = { casus_belli = acquire_any_state state_province_id = 711 } # Lublin area
			defender_goal = { casus_belli = status_quo }
		}
		
		ai_chance = { factor = 1 }
	}
	option = {
		name = "There are more important things right now."
	}
}


# 1118003: Dancing with the Bear
country_event = {
	id = 1118003
	title = "Dancing with the Bear"
	desc = "EVTDESC1118003"
	picture = "poland_peace_event" # Bialystok palace branicki
	fire_only_once = yes
	
	trigger = {
		OR = {
			has_country_flag = pol_regency
			has_country_flag = pol_czartoryski
		}
		war_with = RUS
		war_score = 1 # Winning v RUS
	}

	# In testing, I could not get MTTH to actually work properly. Set to 1 day so it fires in time.
	mean_time_to_happen = { days = 1 }

	option = {
		name = "We will settle for greater autonomy."
		
		# This option ONLY works if you have czartoryski as king
		RUS = { country_event = 1118006 }
		
        ai_chance = { factor = 1 }
	}
	option = {
		name = "We will not negotiate."
		
		RUS = { remove_from_sphere = POL }
		RUS = { remove_influence = { target = POL value = 100 } }
		
		prestige = 5
		
		# PRU and AUS get option to intervene - POL removed from RUS sphere to allow war
		RUS = { remove_from_sphere = POL }
		PRU = { country_event = 11180021 }
		AUS = { country_event = 11180022 }
	}
	option = {
		name = "Status Quo Ante Bellum"
		
		# Regency / Czartoryski reign over - Tsar Nicholas I returns
		clr_country_flag = pol_regency
		clr_country_flag = pol_czartoryski
		RUS = { country_event = 1118005 }
		prestige = -25

        ai_chance = { factor = 0 }
	}
}


#  1118004: "The Regency Must End"
country_event = {
	id = 1118004
	title = "The Regency Must End"
	desc = "EVTDESC1118004"
	picture = "radziwill_palace_event"
	fire_only_once = yes
	
	trigger = {
		has_country_flag = pol_regency
		war = no
	}

	mean_time_to_happen = { months = 12 }

	option = {
		name = "We will crown Prince Radziwill as King Michal I."
		
		add_country_modifier = { # Michal Gideon Radziwill (d. 1850)
			name = military_man
			duration = 6205 # if it's about 1833, to 1850 is 17 years or 6205 days
		}
		
		clr_country_flag = pol_regency
		clr_country_flag = pol_revolution
		
        ai_chance = { factor = 0.4 }
		
		# If I decide to override GFM event_modifiers file...
		# modifier name = "King Michal I"
		# duration = 17 years, his historical lifespan
		# effect is same as "military_man" but you get to hang on to it
	}
	option = {
		name = "The regency train stops at independence station."
		# inspired by Pilsudski quote "I rode the red tram of socialism and got off at Independence"
		
		prestige = 5
		government = democracy
		
		clr_country_flag = pol_regency
		clr_country_flag = pol_revolution
		
        ai_chance = { # AI more likely to do this if liberal
			factor = 0.6
			
			modifier = {
				factor = 1.5
				ruling_party_ideology = liberal
			}
		}
	}
}


# 1118005: Know Your Master - 1118003 negotiation option "Status Quo Ante Bellum"
country_event = {
	id = 1118005
	title = "Know Your Master"
	desc = "EVTDESC1118005"
	picture = "poland_peace_event"
	is_triggered_only = yes

	option = {
		name = "Very well."
		
		# End the war
		end_war = POL
		
		# Make puppet - the rest is in the event
		create_vassal = POL
		POL = { country_event = 1118008 } # Autonomy restored
		
		# AI more open to quick peace
        ai_chance = {
			factor = 0.75
		}
	}
	option = {
		name = "We will not negotiate."
		POL = { country_event = 1118007 }
	}
}


# 1118006: Know Your Master - 1118003 negotiation option "We will settle for greater autonomy"
country_event = {
	id = 1118006
	title = "Know Your Master"
	desc = "EVTDESC1118006"
	picture = "poland_peace_event"
	is_triggered_only = yes

	option = {
		name = "Fine."
		
		# End the war
		end_war = POL
		
		# Adds POL to sphere if not already
		set_relation = { country = POL value = 15 }
		add_to_sphere = POL
		add_influence = { target = POL value = 100 }
		POL = { country_event = 1118009 } # Independence, under russian supervision
		
		# AI will only take this option if Czartoryski is king
        ai_chance = {
			factor = 0.5
			
			modifier = {
				factor = 100
				POL = { has_country_flag = pol_czartoryski }
			}
		}
	}
	option = {
		name = "We will not negotiate."
		POL = { country_event = 1118007 } # Russia refuses peace!
	}
}


# 1118007: Russia Refuses!
country_event = {
	id = 1118007
	title = "Russia Refuses Peace!"
	desc = "EVTDESC1118007"
	picture = "november_uprising_event"
	is_triggered_only = yes
	option = { name = "So be it." }
}

# 1118008: Autonomy Restored
country_event = {
	id = 1118008
	title = "Autonomy Restored"
	desc = "EVTDESC1118008"
	picture = "poland_peace_event"
	is_triggered_only = yes
	option = {
		name = "I hope it was worth it."
		
		government = colonial_company # GFM autonomous dependency
	}
}

# 1118009: Independence, under Russian Supervision
country_event = {
	id = 1118009
	title = "Independence, under Russian Supervision"
	desc = "EVTDESC1118009"
	picture = "poland_peace_event"
	is_triggered_only = yes
	option = { name = "We will make the most of this." }
}


# 1118010: Returning Exiles
country_event = {
	id = 1118010
	title = "Returning Exiles"
	desc = "EVTDESC1118010"
	picture = "poland_exiles" # "Chopin plays for the Radziwills" by Siemiradzki, 1887
	fire_only_once = yes
	
	trigger = {
        primary_culture = polish
		year = 1835
        is_vassal = no
		war = no
	}

	mean_time_to_happen = { months = 3 }

	option = {
		name = "We welcome them home."

		prestige = 2
		years_of_research = 2.5 # Transfer of knowledge
		add_country_modifier = { # Mildly buffs education eff. and literacy impact
			name = reading
			duration = 9125 # 25 years
		}

		# If I decide to override GFM event_modifiers file...
		# modifier name = "Returning Exiles"
		# duration = 25 years
		# +0.01 prestige
		# +5% education efficiency
		# +0.01 support for liberalism (ie exiles adopted French liberalism)
		# +0.1 leadership (returning generals)
	}
}


# 1118011: Wedding to the Sea
country_event = {
	id = 1118011
	title = "Wedding to the Sea"
	desc = "EVTDESC1118011"
	picture = "poland_wedding" # famous painting of gen. haller at the sea
	fire_only_once = yes
	
	trigger = {
		tag = POL
		year = 1835
        is_vassal = no
		war = no
		any_owned_province = { is_coastal = yes }
	}

	mean_time_to_happen = { months = 2 }

	option = {
		name = "Let's open a naval academy, as well."
		
		add_tax_relative_income = -2 # costs 2 years of income
		add_country_modifier = {
			name = naval_school
			duration = -1
		}

		# If I decide to override GFM event_modifiers file...
		# modifier name = "Naval focus"
		# duration = 25 years
		# +10% naval research speed
		# +25% shipbuilding speed
	}
	option = {
		name = "It will make a nice painting, I suppose."
		prestige = 2
	}
}


# 1118012: The Grand Theatre of Warsaw
country_event = {
	id = 1118012
	title = "Grand Theatre of Warsaw Complete!"
	desc = "EVTDESC1118012"
	picture = "poland_theatre"
	fire_only_once = yes
	
	trigger = {
		tag = POL
		year = 1833
		war = no # not necessary, but would prefer during peace
	}

	mean_time_to_happen = { months = 2 }

	option = {
		name = "A grand nation needs a grand theatre."
		prestige = 2
		add_country_modifier = { # +5% education eff, +5% immigration
			name = opera_house
			duration = -1
		}
	}
}

# 1118013: Napoleon's Example (alliance with france)
country_event = {
	id = 1118013
	title = "Napoleon's Example" # reference to "Dal nam przyklad Bonaparte jak zwyciezac mamy" (Bonaparte gave us an example of how we should win)
	desc = "EVTDESC1118013"
	picture = "poland_france" # "Chopin's Polonaise - Ball at Hotel Lambert" by Teofil Kwiatowski, 1850
	
	trigger = {
		tag = POL
		year = 1835
        is_vassal = no
		war = no
		rank = 16 # Poland must be relevant
		FRA = {
			war = no
			NOT = {
				alliance_with = GER # alliance with strong germany more important
				alliance_with = PRU
				alliance_with = AUS
				alliance_with = POL # otherwise you wouldn't need this event...
			}
		}
		relation = { who = FRA  value = 15 } # vaguely "good" relations
	}

	# Should be <1 year but about 25 years if they allied you before
	mean_time_to_happen = {
		months = 1

		modifier = {
			factor = 24
			limit = { has_country_flag = poland_france_allied }
		}
	}

	option = {
		name = "A splendid idea."
		
		FRA = {
			add_influence = { target = POL value = 100 }
			create_alliance = POL
		}
		
        ai_chance = { factor = 1 }
		set_country_flag = poland_france_allied
	}
	option = {
		name = "France? I'd rather not."
		prestige = 2
	}
}
